# HTTP/2 messages between k8s and etcd

```
$ sudo tcpflow -i any -c port 2379 -D
```

Client (k8s) -> Server (etcd)

## Connection

->
127.000.000.001.36032-127.000.000.001.02379:
0000: 5052 4920 2a20 4854 5450 2f32 2e30 0d0a 0d0a 534d 0d0a 0d0a PRI \* HTTP/2.0....SM....

## SETTINGS frame (0x04)

->
127.000.000.001.36032-127.000.000.001.02379:
0000: 0000 0004 0000 0000 00 .........

<-
127.000.000.001.02379-127.000.000.001.36032:
0000: 0000 0c04 0000 0000 0000 0500 0040 0000 03ff ffff ff .............@.......

<- (ACK)
127.000.000.001.02379-127.000.000.001.36032:
0000: 0000 0004 0100 0000 00 .........

-> (ACK)
127.000.000.001.36032-127.000.000.001.02379:
0000: 0000 0004 0100 0000 00 .........

## HEADERS frame (0x01)

->
127.000.000.001.36032-127.000.000.001.02379:
0000: 0000 6d01 0400 0000 0183 8645 9560 a924 882d 9dcb 6571 af9c a341 58ce 51a0 b8ac ..m........E.`.$.-..eq...AX.Q... 0020: 1d49 419b ffa3 5464 9874 51ea 0ffd ce94 d771 8602 2757 02e0 5c37 04cb afff f35f .IA...Td.tQ......q..'W..\7....._ 0040: 8b1d 75d0 620d 263d 4c4d 6564 7a8a 9aca c8b4 c760 2bb2 f2e0 4002 7465 864d 8335 ..u.b.&=LMedz......`+...@.te.M.5
0060: 05b1 1f40 8d25 062d 4958 7599 6ee5 b106 3d5f 0333 2e35 ...@.%.-IXu.n...=\_.3.5

## DATA frame (0x00)

->
127.000.000.001.36032-127.000.000.001.02379:
0000: 0000 0700 0100 0000 0100 0000 0002 083c ...............<

## WINDOW_UPDATE (0x08)

<-
127.000.000.001.02379-127.000.000.001.36032:
0000: 0000 0408 0000 0000 0000 0000 0700 0008 0600 0000 0000 0204 1010 090e 0707 ............................

## PING (0x06)

<-
127.000.000.001.02379-127.000.000.001.36032:
0000: 0000 0806 0100 0000 0002 0410 1009 0e07 07 ................

## Multiple frames

127.000.000.001.36032-127.000.000.001.02379:
0000: 0000 1801 0400 0000 0383 8645 8f60 a924 882d 9dcb 6571 af9b 8b1b fcd5 c3c2 c1c0 ...........E.`.$.-..eq.......... 0020: bf00 002e 0104 0000 0005 8386 4598 60a9 2488 2d9d cb65 71af 9ca3 4158 ce51 a0b9 ............E.`.$.-..eq...AX.Q..
0040: 8a5a e1a0 ddcb c4c3 c2c1 c040 879c 68a0 a390 b67f 834d 9697 0001 2500 0100 0000 .Z.........@..h......M....%.....
0060: 0300 0000 0120 0a30 1001 1a2a 6b75 6265 5f69 6e74 6567 7261 7469 6f6e 5f65 7463 ..... .0...*kube_integration_etc
0080: 645f 7261 772f 3639 3464 3763 3132 3032 3361 6565 3038 2800 1238 1236 0a2a 6b75 d_raw/694d7c12023aee08(..8.6.*ku
00a0: 6265 5f69 6e74 6567 7261 7469 6f6e 5f65 7463 645f 7261 772f 3639 3464 3763 3132 be*integration_etcd_raw/694d7c12
00c0: 3032 3361 6565 3038 1888 dceb 91a0 82df a669 1240 0a3e 0a1a 6b75 6265 5f69 6e74 023aee08.........i.@.>..kube_int
00e0: 6567 7261 7469 6f6e 5f65 7463 645f 7261 772f 121a 6b75 6265 5f69 6e74 6567 7261 egration_etcd_raw/..kube_integra
0100: 7469 6f6e 5f65 7463 645f 7261 7730 1801 2801 3002 1a2e 0a2c 0a2a 6b75 6265 5f69 tion_etcd_raw0..(.0....,.\*kube_i
0120: 6e74 6567 7261 7469 6f6e 5f65 7463 645f 7261 772f 3639 3464 3763 3132 3032 3361 ntegration_etcd_raw/694d7c12023a
0140: 6565 3038 1a40 0a3e 0a1a 6b75 6265 5f69 6e74 6567 7261 7469 6f6e 5f65 7463 645f ee08.@.>..kube_integration_etcd*
0160: 7261 772f 121a 6b75 6265 5f69 6e74 6567 7261 7469 6f6e 5f65 7463 645f 7261 7730 raw/..kube_integration_etcd_raw0
0180: 1801 2801 3002 0000 0f00 0000 0000 0500 0000 000a 0888 dceb 91a0 82df a669 ..(.0........................i
